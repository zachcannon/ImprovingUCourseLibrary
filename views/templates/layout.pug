block variables
doctype html
html(lang="en")
    head
        meta(charset="utf-8")
        meta(http-equiv="X-UA-Compatible", content="IE=edge")
        meta(name="viewport", content="width=device-width, initial-scale=1")
        // The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags
        meta(name="description", content="")
        meta(name="author", content="")
        title ImprovingU Ideas
        // Bootstrap core CSS
        link(href="/bower_components/bootstrap/dist/css/bootstrap.min.css", rel="stylesheet")
        // Custom styles for this template
        link(href="/public/style.css", rel="stylesheet")
        // HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries
        <!--[if lt IE 9]>
        script(src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js")
        script(src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js")
        <![endif]-->
    body(data-bind="css: { loaded: user, error: status() == 'Error', saving: status() == 'Saving...' }")
        nav.navbar.navbar-inverse.navbar-fixed-top
            .container
                .navbar-header
                    button.navbar-toggle.collapsed(type="button", data-toggle="collapse", data-target="#navbar", aria-expanded="false", aria-controls="navbar")
                        span.sr-only Toggle navigation
                        span.icon-bar
                        span.icon-bar
                        span.icon-bar
                    a.navbar-brand(href="/") ImprovingU
                #navbar.collapse.navbar-collapse
                    ul.nav.navbar-nav
                        li.nav-item
                            a.nav-link(href="/ideas", data-bind="attr: { href: '/ideas#' + office() }") Ideas
                        li.nav-item
                            a.nav-link(href="/courses", data-bind="attr: { href: '/courses#' + office() }") Registration
                        li.nav-item
                            a.nav-link(href="/calendar", data-bind="attr: { href: '/calendar#' + office() }") Calendar
                    ul.nav.navbar-nav.navbar-right
                        li
                            a(href="#", data-bind="text: status, click: showError") Saving...
                        li.dropdown
                            a.dropdown-toggle(href="#", data-toggle="dropdown", role="button")
                                span(data-bind="text: office() || 'Select office'")
                                span.caret
                            ul.dropdown-menu(data-bind="foreach: offices")
                                li(data-bind="css: { active: $parent.office() === $data }")
                                    a(data-bind="attr: { href: '/courses#' + $data }, text: $data")
                        li
                            a(href="#", data-bind="text: displayName, click: showError")
        .container
            block content

        script(src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js")
        script.
            window.jQuery || document.write('<script src="/bower_components/jquery/dist/jquery.min.js"><\\/script>')
        script(src="/bower_components/bootstrap/dist/js/bootstrap.min.js")
        script(src="/bower_components/jinaga/jinaga.js")
        script(src="/bower_components/knockout/dist/knockout.js")
        script(src="/bower_components/js-cookie/src/js.cookie.js")
        script(src="/bower_components/showdown/dist/showdown.js")
        script(src="/bower_components/jinaga.app/jinaga.knockout.js")
        block scripts
